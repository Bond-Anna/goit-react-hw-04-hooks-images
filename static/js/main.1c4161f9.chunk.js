(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={ImageGallery:"gallery_ImageGallery__1wQiN"}},12:function(e,t,a){e.exports={ImageGalleryItem:"galleryItem_ImageGalleryItem__2nLCw",ImageGalleryItemImage:"galleryItem_ImageGalleryItemImage__33f2y"}},18:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"searchbar_Searchbar__3VK8i",SearchForm:"searchbar_SearchForm__pn92P",SearchFormButton:"searchbar_SearchFormButton__1EFLt",SearchFormButtonLabel:"searchbar_SearchFormButtonLabel__Jj-ZB",SearchFormInput:"searchbar_SearchFormInput__2L7V0"}},41:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(10),o=a.n(r),s=(a(18),a(9)),i=a(3),l=a(4),u=a.n(l),m=a(1),b=function(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(i.a)(a,2),r=n[0],o=n[1];return Object(m.jsx)("header",{className:u.a.Searchbar,onSubmit:function(e){e.preventDefault(),""!==r.trim()&&t(r)},children:Object(m.jsxs)("form",{className:u.a.SearchForm,children:[Object(m.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(m.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:u.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value)}})]})})},j=a(2),h=a.n(j),d=function(e){var t=e.name,a=e.page;return fetch("".concat("https://pixabay.com/api/","?q=").concat(t,"&page=").concat(a,"&key=").concat("22720619-487e18f692264a9911b958ddb","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()}))};d.propTypes={name:h.a.string.isRequired,page:h.a.number.isRequired};var f=a(11),O=a.n(f),g=a(12),p=a.n(g),S=function(e){var t=e.img,a=e.largeImage,c=e.onSelect;return Object(m.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return c(a)},children:Object(m.jsx)("img",{src:t,alt:"",className:p.a.ImageGalleryItemImage})})},_=function(e){var t=e.pictures,a=e.onSelect;return Object(m.jsx)("ul",{className:O.a.ImageGallery,children:t.map((function(e){var t=e.id,c=e.webformatURL,n=e.largeImageURL;return Object(m.jsx)(S,{img:c,largeImage:n,onSelect:a},t)}))})},x=(a(22),a(13)),y=a.n(x),I=function(){return Object(m.jsx)(y.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})},v=a(8),w=a.n(v),F=function(e){var t=e.selectedPicture,a=e.onCloseModal,n=Object(c.useCallback)((function(e){console.log(e.code),"Escape"===e.code&&a()}),[a]),r=Object(c.useCallback)((function(e){e.target===e.currentTarget&&a()}),[a]);return Object(c.useEffect)((function(){window.addEventListener("keydown",n),window.addEventListener("click",r)}),[r,n]),Object(c.useEffect)((function(){return function(){window.removeEventListener("keydown",n),window.removeEventListener("click",r)}}),[r,n]),Object(m.jsx)("div",{className:w.a.Overlay,onClick:a,children:Object(m.jsx)("div",{className:w.a.Modal,children:Object(m.jsx)("img",{src:t,alt:""})})})},k=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(1),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(c.useState)([]),h=Object(i.a)(j,2),f=h[0],O=h[1],g=Object(c.useState)(null),p=Object(i.a)(g,2),S=p[0],x=p[1],y=Object(c.useState)(!1),v=Object(i.a)(y,2),w=v[0],k=v[1],N=Object(c.useState)(!1),L=Object(i.a)(N,2),E=L[0],B=L[1],C=Object(c.useState)(!1),G=Object(i.a)(C,2),M=G[0],P=G[1];Object(c.useEffect)((function(){k(!0),""!==a&&(d({name:a,page:l}).then((function(e){var t=e.hits;t.length>0?(O((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),B(!1)):B(!0)})).catch((function(){return B(!0)})).finally((function(){return k(!1)})),1!==l&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))}),[a,l]);return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(b,{onSubmit:function(e){n(e),O([]),u(1)}}),E&&Object(m.jsxs)("h1",{className:"error",children:["There are no ",a," pictures :( "]}),w&&Object(m.jsx)(I,{}),Object(m.jsx)(_,{pictures:f,onSelect:function(e){x(e),P(!0)}}),f.length>0&&Object(m.jsx)("button",{type:"button",className:"Button",onClick:function(){u((function(e){return e+1}))},children:"Load more"}),M&&Object(m.jsx)(F,{selectedPicture:S,onCloseModal:function(){P((function(e){return!e}))}})]})};o.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Overlay:"modal_Overlay__2PQZK",Modal:"modal_Modal__3qVwQ"}}},[[41,1,2]]]);
//# sourceMappingURL=main.1c4161f9.chunk.js.map