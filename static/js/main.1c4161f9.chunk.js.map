{"version":3,"sources":["components/gallery/gallery.module.css","components/galleryItem/galleryItem.module.css","components/searchbar/searchbar.module.css","components/searchbar/Searchbar.jsx","components/services.jsx","components/galleryItem/galleryItem.jsx","components/gallery/gallery.jsx","components/Spinner/spinner.jsx","components/modal/modal.jsx","App.js","index.js","components/modal/modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","name","setName","className","css","e","preventDefault","trim","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","ImgsAPI","page","fetch","then","response","ok","Error","status","json","propTypes","PropTypes","string","isRequired","number","ImageGalleryItem","img","largeImage","onSelect","onClick","src","alt","ImageGalleryItemImage","ImageGallery","pictures","map","id","webformatURL","largeImageURL","Spinner","color","height","width","timeout","Modal","selectedPicture","onCloseModal","handleKeyDown","useCallback","console","log","code","handleBackdropClick","target","useEffect","window","addEventListener","removeEventListener","Overlay","App","setPage","setPictures","selectedImg","setSelectedImg","loading","setLoading","error","setError","showModal","setShowModal","hits","length","prevPictures","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","prevPage","prevShowModal","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1c4161f9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"gallery_ImageGallery__1wQiN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"galleryItem_ImageGalleryItem__2nLCw\",\"ImageGalleryItemImage\":\"galleryItem_ImageGalleryItemImage__33f2y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__3VK8i\",\"SearchForm\":\"searchbar_SearchForm__pn92P\",\"SearchFormButton\":\"searchbar_SearchFormButton__1EFLt\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__Jj-ZB\",\"SearchFormInput\":\"searchbar_SearchFormInput__2L7V0\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './searchbar.module.css';\nexport const Searchbar = ({ onSubmit }) => {\n  const [name, setName] = useState('');\n\n  const handleOnChange = e => {\n    setName(e.currentTarget.value);\n  };\n\n  const handleOnSubmit = e => {\n    e.preventDefault();\n    if (name.trim() === '') {\n      return;\n    }\n    onSubmit(name);\n  };\n\n  return (\n    <header className={css.Searchbar} onSubmit={handleOnSubmit}>\n      <form className={css.SearchForm}>\n        <button type=\"submit\" className={css.SearchFormButton}>\n          <span className={css.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={css.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={name}\n          onChange={handleOnChange}\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nexport const ImgsAPI = ({ name, page }) => {\n  const URL = 'https://pixabay.com/api/';\n  const API_KEY = '22720619-487e18f692264a9911b958ddb';\n  return fetch(\n    `${URL}?q=${name}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\nImgsAPI.propTypes = {\n  name: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n","import css from './galleryItem.module.css';\nimport PropTypes from 'prop-types';\nexport const ImageGalleryItem = ({ img, largeImage, onSelect }) => {\n  return (\n    <li className=\"ImageGalleryItem\" onClick={() => onSelect(largeImage)}>\n      <img src={img} alt=\"\" className={css.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  img: PropTypes.string.isRequired,\n  largeImage: PropTypes.string.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport css from './gallery.module.css';\nimport { ImageGalleryItem } from '../galleryItem/galleryItem';\nexport const ImageGallery = ({ pictures, onSelect }) => {\n  return (\n    <ul className={css.ImageGallery}>\n      {pictures.map(({ id, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          img={webformatURL}\n          largeImage={largeImageURL}\n          onSelect={onSelect}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  pictures: PropTypes.arrayOf(\n    PropTypes.exact({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n  onSelect: PropTypes.func,\n};\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nexport const Spinner = () => {\n  return (\n    <Loader\n      type=\"Puff\"\n      color=\"#00BFFF\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n};\n","import { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './modal.module.css';\nexport const Modal = ({ selectedPicture, onCloseModal }) => {\n  const handleKeyDown = useCallback(\n    e => {\n      console.log(e.code);\n      if (e.code === 'Escape') {\n        onCloseModal();\n      }\n    },\n    [onCloseModal],\n  );\n\n  const handleBackdropClick = useCallback(\n    e => {\n      if (e.target === e.currentTarget) {\n        onCloseModal();\n      }\n    },\n    [onCloseModal],\n  );\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('click', handleBackdropClick);\n  }, [handleBackdropClick, handleKeyDown]);\n\n  useEffect(() => {\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('click', handleBackdropClick);\n    };\n  }, [handleBackdropClick, handleKeyDown]);\n\n  return (\n    <div className={css.Overlay} onClick={onCloseModal}>\n      <div className={css.Modal}>\n        <img src={selectedPicture} alt=\"\" />\n      </div>\n    </div>\n  );\n};\n\nModal.propTypes = {\n  selectedPicture: PropTypes.string.isRequired,\n  onCloseModal: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from 'react';\nimport { Searchbar } from './components/searchbar/Searchbar.jsx';\nimport { ImgsAPI } from './components/services.jsx';\nimport { ImageGallery } from './components/gallery/gallery';\nimport { Spinner } from './components/Spinner/spinner';\nimport { Modal } from './components/modal/modal';\n\nexport const App = () => {\n  const [name, setName] = useState('');\n  const [page, setPage] = useState(1);\n  const [pictures, setPictures] = useState([]);\n  const [selectedImg, setSelectedImg] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    if (name === '') {\n      return;\n    }\n    ImgsAPI({ name, page })\n      .then(({ hits }) => {\n        if (hits.length > 0) {\n          setPictures(prevPictures => [...prevPictures, ...hits]);\n          setError(false);\n        } else {\n          setError(true);\n        }\n      })\n      .catch(() => setError(true))\n      .finally(() => setLoading(false));\n\n    if (page !== 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }, [name, page]);\n\n  const handleSearchbarSubmit = name => {\n    setName(name);\n    setPictures([]);\n    setPage(1);\n  };\n\n  const handleSelectImg = selectedImg => {\n    setSelectedImg(selectedImg);\n    setShowModal(true);\n  };\n\n  const handleLoadMoreClick = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const toggleModal = () => {\n    setShowModal(prevShowModal => !prevShowModal);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleSearchbarSubmit} />\n      {error && <h1 className=\"error\">There are no {name} pictures :( </h1>}\n      {loading && <Spinner />}\n\n      <ImageGallery pictures={pictures} onSelect={handleSelectImg} />\n      {pictures.length > 0 && (\n        <button type=\"button\" className=\"Button\" onClick={handleLoadMoreClick}>\n          Load more\n        </button>\n      )}\n      {showModal && (\n        <Modal selectedPicture={selectedImg} onCloseModal={toggleModal} />\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__2PQZK\",\"Modal\":\"modal_Modal__3qVwQ\"};"],"sourceRoot":""}